define(['jquery'],function($){'use strict';return function(validator){var regex=/^(0|84|\+84)+([0-9]{9})$/i;validator.addRule('mobileVN',function(phoneNumber,element){var self=this;if(phoneNumber.length===0||phoneNumber.charAt(0)!=0){self.validateMessage=$.mage.__('The phone number has to start with 0, ex: 0123456789');return false;}
phoneNumber=phoneNumber.trim();if(phoneNumber.length>9&&phoneNumber.length<=10&&phoneNumber.match(regex)){return true;}else{self.validateMessage=$.mage.__('Please specify a valid phone number.')
return false;}},function(){return this.validateMessage;});validator.addRule('email-or-mobile',function(value,element){var self=this;value=value.trim();self.validateMessage=$.mage.__('Please specify a valid email address or phone number.');if($.isNumeric(value)){if(value.length===0||value.charAt(0)!=0){self.validateMessage=$.mage.__('The phone number has to start with 0, ex: 0123456789');return false;}
return value.length>9&&value.length<=10&&value.match(regex);}else{return $.mage.isEmptyNoTrim(value)||/^([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*@([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*\.(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]){2,})$/i.test(value);}},function(){return this.validateMessage;});return validator;};});