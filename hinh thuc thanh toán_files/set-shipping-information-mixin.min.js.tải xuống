define(['jquery','mage/utils/wrapper','Magento_Checkout/js/model/quote','uiRegistry'],function($,wrapper,quote,uiRegistry){'use strict';return function(setShippingInformationAction){return wrapper.wrap(setShippingInformationAction,function(originalAction){var shippingAddress=quote.shippingAddress();if(shippingAddress['extension_attributes']===undefined){shippingAddress['extension_attributes']={};}
shippingAddress['extension_attributes']=$.extend(true,{},shippingAddress['extension_attributes'],uiRegistry.get('checkoutProvider').get('additional-data'));if(shippingAddress.customAttributes!=undefined){$.each(shippingAddress.customAttributes,function(key,value){if($.isPlainObject(value)){value=value['value'];key=this.attribute_code;}
var attributeDirectory=['city_id','district','district_id','ward','ward_id'];if(attributeDirectory.includes(key)){return;}
shippingAddress['extension_attributes'][key]=value;});}
if(shippingAddress.extensionAttributes!=undefined){$.each(shippingAddress.extensionAttributes,function(key,value){if($.isPlainObject(value)){value=value['value'];key=this.attribute_code;}
if(key=='pickup_location_code'){shippingAddress['extension_attributes'][key]=value;}});}
return originalAction();});};});